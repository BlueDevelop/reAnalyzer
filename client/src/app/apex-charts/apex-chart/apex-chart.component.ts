import { Component, ViewChild, ElementRef, OnInit } from '@angular/core';
import * as ApexCharts from 'apexcharts';

@Component({
  selector: 'app-apex-chart',
  templateUrl: './apex-chart.component.html',
  styleUrls: ['./apex-chart.component.css'],
})
export class ApexChartComponent implements OnInit {
  chart: any;
  @ViewChild('chart')
  chartRef: ElementRef;
  title = 'apex-test2';
  ngOnInit() {
    var colors = [
      '#008FFB',
      '#00E396',
      '#FEB019',
      '#FF4560',
      '#775DD0',
      '#546E7A',
      '#26a69a',
      '#D10CE8',
      '#FF0000',
    ];
    var options = {
      chart: {
        height: '350',
        type: 'bar',
        events: {
          click: function(chart, w, e) {
            //console.log(chart, w, e);
          },
        },
      },

      colors: colors,
      plotOptions: {
        bar: {
          columnWidth: '45%',
          distributed: true,
        },
      },
      dataLabels: {
        enabled: false,
      },
      series: [
        {
          name: 'tasks done',
          data: [
            21,
            22,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,

            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,

            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,

            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,

            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,

            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,

            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,

            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,

            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,

            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,

            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
            10,
            28,
            16,
            21,
            13,
            30,
          ],
        },
      ],
      xaxis: {
        type: 'datetime',
        categories: [
          '2011-01-01',
          '2011-02-01',
          '2011-03-01',
          '2011-04-01',
          '2011-05-01',
          '2011-06-01',
          '2011-07-01',
          '2011-08-01',
          '2011-09-01',
          '2011-10-01',
          '2011-11-01',
          '2011-12-01',
          '2012-01-01',
          '2012-02-01',
          '2012-03-01',
          '2012-04-01',
          '2012-05-01',
          '2012-06-01',
          '2012-07-01',
          '2012-08-01',
          '2012-09-01',
          '2012-10-01',
          '2012-11-01',
          '2012-12-01',
          '2013-01-01',
          '2013-02-01',
          '2013-03-01',
          '2013-04-01',
          '2013-05-01',
          '2013-06-01',
          '2013-07-01',
          '2013-08-01',
          '2013-09-01',
        ],
        labels: {
          style: {
            colors: colors,
            fontSize: '14px',
          },
        },
      },
      legend: {
        position: 'top',
        horizontalAlign: 'left',
        offsetX: 40,
      },
    };
    this.chart = new ApexCharts(this.chartRef.nativeElement, options);
    this.chart.render();
  }
}
