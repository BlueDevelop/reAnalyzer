<mat-expansion-panel #mep="matExpansionPanel">
  <mat-expansion-panel-header>
    <mat-panel-title>
      <p>
        <strong> משימות</strong>
        סינון לפי:</p>
    </mat-panel-title>
    <mat-panel-description>
      <p> חברות:</p>
      <mat-chip-list #chipListUnit>
        <mat-chip *ngFor="let unit of units" [selectable]="selectable" [removable]="removable" (removed)="remove(unit, 'units')">
          <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
          {{unit}}
        </mat-chip>
      </mat-chip-list>
    </mat-panel-description>
    <mat-panel-description>
      <p> פרויקטים:</p>
      <mat-chip-list #chipListProject>
        <mat-chip *ngFor="let project of projects" [selectable]="selectable" [removable]="removable" (removed)="remove(project, 'projects')">
          <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
          {{project}}
        </mat-chip>
      </mat-chip-list>
    </mat-panel-description>
    <mat-panel-description>
      <p> דיונים:</p>
      <mat-chip-list #chipListDiscussion>
        <mat-chip *ngFor="let discussion of discussions" [selectable]="selectable" [removable]="removable" (removed)="remove(discussion, 'discussions')">
          <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
          {{discussion}}
        </mat-chip>
      </mat-chip-list>
    </mat-panel-description>
    <mat-panel-description>
      <p> מתאריך {{taskService.filterParams.date.firstDay | date: "dd/MM/yyyy"}} עד תאריך {{taskService.filterParams.date.lastDay | date : "dd/MM/yyyy"}}</p>
    </mat-panel-description>
  </mat-expansion-panel-header>
  <div class="filter-inputs">
    <mat-form-field class="unit-select">
        <mat-chip-list #chipListUnit>
            <mat-chip *ngFor="let unit of units" [selectable]="selectable" [removable]="removable" (removed)="remove(unit, 'units')">
              <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
              {{unit}}
            </mat-chip>
      <input matInput placeholder="בחר חברה" #unitInput [formControl]="unitSelected" [matAutocomplete]="autoUnit" [matChipInputFor]="chipListUnit"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="add($event, 'units')">
        <!-- <mat-icon matSuffix>keyboard_arrow_down</mat-icon> -->
      </mat-chip-list>
        <mat-autocomplete #autoUnit="matAutocomplete" (optionSelected)="selected($event, 'units')">
        <mat-option *ngFor="let unit of filteredUnits | async" [value]="unit">
          {{unit}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <mat-form-field class="project-select">
        <mat-chip-list #chipListProject>
            <mat-chip *ngFor="let project of projects" [selectable]="selectable" [removable]="removable" (removed)="remove(project, 'projects')">
              <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
              {{project}}
            </mat-chip>
      <input matInput placeholder="בחר פרויקט" #projectInput [formControl]="projectSelected" [matAutocomplete]="autoProject" [matChipInputFor]="chipListProject"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="add($event, 'projects')">
        <!-- <mat-icon matSuffix>keyboard_arrow_down</mat-icon> -->
      </mat-chip-list>
        <mat-autocomplete #autoProject="matAutocomplete" (optionSelected)="selected($event, 'projects')">
        <mat-option *ngFor="let project of filteredProjects | async" [value]="project">
          {{project}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <mat-form-field class="discussion-select">
      <mat-chip-list #chipListDiscussion>
        <mat-chip *ngFor="let discussion of discussions" [selectable]="selectable" [removable]="removable" (removed)="remove(discussion, 'discussions')">
          <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
          {{discussion}}
        </mat-chip>
        <input matInput placeholder="בחר דיון" #discussionInput [formControl]="discussionSelected" [matAutocomplete]="autoDiscussion"
          [matChipInputFor]="chipListDiscussion" [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="addOnBlur"
          (matChipInputTokenEnd)="add($event, 'discussions')">
          <!-- <mat-icon matSuffix>keyboard_arrow_down</mat-icon> -->
      </mat-chip-list>
      <mat-autocomplete #autoDiscussion="matAutocomplete" (optionSelected)="selected($event, 'discussions')">
        <mat-option *ngFor="let discussion of filteredDiscussions | async" [value]="discussion">
          {{discussion}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <!-- <div class="start-date1"> -->
    <mat-form-field class="start-date">
      <input matInput placeholder="תאריך התחלה" [matDatepicker]="picker" [formControl]="startDate" (dateChange)="addEvent('change', $event)">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker [startAt]="startDate"></mat-datepicker>
    </mat-form-field>
    <!-- </div> -->
    <!-- <div class="end-date1"> -->
    <mat-form-field class="end-date">
      <input matInput placeholder="תאריך סיום" [matDatepicker]="picker2" [matDatepickerFilter]="dateFilter" [formControl]="endDate" (dateChange)="addEvent('change', $event)">
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>
    <!-- </div> -->
    <button mat-raised-button class="filter-button" (click)="dataFilering(); mep.expanded = false">
      <mat-icon>filter_list</mat-icon>
    </button>
  </div>

</mat-expansion-panel>

<mat-grid-list cols="6" rowHeight="6:4" gutterSize="20px">
  <mat-grid-tile [colspan]="2" [rowspan]="2">
    <app-time-rates #timeRates></app-time-rates>
  </mat-grid-tile>
  <!-- <mat-grid-tile [colspan]="1" [rowspan]="1">3</mat-grid-tile> -->
  <mat-grid-tile [colspan]="4" [rowspan]="2">
    <app-chart-bar-date #barDate></app-chart-bar-date>
  </mat-grid-tile>
  <mat-grid-tile [colspan]="2" [rowspan]="2">
    <app-tag-cloud #tagCloud></app-tag-cloud>
  </mat-grid-tile>
  <mat-grid-tile [colspan]="2" [rowspan]="2">
    <app-leader-board #leaderBoard></app-leader-board>
  </mat-grid-tile>
  <mat-grid-tile [colspan]="2" [rowspan]="2">
    <app-pie-status #pieStatus></app-pie-status>
  </mat-grid-tile>
  <!-- <mat-grid-tile [colspan]="2" [rowspan]="1">7</mat-grid-tile> -->
</mat-grid-list>